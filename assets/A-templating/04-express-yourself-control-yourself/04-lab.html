<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>RactiveJS Workshop</title>

	<link rel="stylesheet" type="text/css" href="../../css/style.css">
	<script src='../../js/ractive.js'></script>
	<script src='https://code.jquery.com/jquery-2.1.1.min.js'></script>
	<script src='//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore-min.js'></script>

</head>
<body>

<script id='template' type='text/ractive'>
	{{#each _.sortBy(items) }}
	  {{.}}<br>
	{{/each}}

	{{# items:i}}
		{{i}} x {{i}} = {{i*i}}<br>
	{{/}}

	{{#with parent}}
		{{#each children}}
			<p>{{name}} is a child of {{../../name}}</p>
		{{/each}}
	{{/with}}

	{{#each price}}
	<p>price: {{ format(.) }}</p>
	{{/each}}

</script>

<script>
new Ractive({
	el: document.body,
	template: '#template',
	data: {
		items: [ 1,3,7,8,9,10,11,2,12,4,5,6 ],
		_: _,
		parent: {
			name: 'bob',
			children: [
				{ name: 'sally', age: 5 },
				{ name: 'fred', age: 8 },
				{ name: 'lucy', age: 12 }
			],
			formatage:  function(age) {
				return age + " years old"
			}
		},
		price: [10, 20, 30, 40],
    format: function(price){
        return '$' + price + '.00'
    }
	}
})
</script>

<body>
